<div *ngIf="isGrid; else horiz" class="products-grid">
  <div class="product-card" *ngFor="let product of products">
    <img [src]="product.imageUrl" [alt]="product.name" class="product-image" />
    <div>
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
      <p class="price">\${{ product.price }}</p>
      <p>Quantity: {{ product.stockQuantity }}</p>
      <label>
        Qty
        <input type="number"
               min="1"
               [max]="product.stockQuantity"
               [(ngModel)]="desiredQty[product.id!]" />
      </label>
      <button (click)="addToCart(product)"
              [disabled]="product.stockQuantity === 0"
              class="cart-btn">Add to Cart</button>
      <button [routerLink]="['/products', product.id]" class="details-btn">View Details</button>
    </div>
  </div>
  <div *ngIf="products.length === 0" class="no-products">No products available.</div>
</div>
<ng-template #horiz>
  <div class="products-horizontal">
    <div class="product-card" *ngFor="let product of products">
      <img [src]="product.imageUrl" [alt]="product.name" class="product-image" />
      <div>
        <h3>{{ product.name }}</h3>
        <p>{{ product.description }}</p>
        <p class="price">\${{ product.price }}</p>
        <p>Quantity: {{ product.stockQuantity }}</p>
        <label>
          Qty
          <input type="number"
                 min="1"
                 [max]="product.stockQuantity"
                 [(ngModel)]="desiredQty[product.id!]" />
        </label>
        <button (click)="addToCart(product)"
                [disabled]="product.stockQuantity === 0"
                class="cart-btn">Add to Cart</button>
        <button [routerLink]="['/products', product.id]" class="details-btn">View Details</button>
      </div>
    </div>
    <div *ngIf="products.length === 0" class="no-products">No products available in this category.</div>
  </div>
</ng-template>
