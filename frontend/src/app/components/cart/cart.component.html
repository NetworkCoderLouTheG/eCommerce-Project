<div class="cart-container">
  <h2>Your Cart</h2>
  <table class="cart-table" *ngIf="items.length > 0; else emptyCart">
    <thead>
      <tr>
        <th>Product</th>
        <th>Image</th>
        <th>Price</th>
        <th>Qty</th>
        <th>Subtotal</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <td>{{ item.product.name }}</td>
        <td>
          <img [src]="item.product.imageUrl" [alt]="item.product.name" width="60" />
        </td>
        <td>\${{ item.product.price }}</td>
        <td>
          <input
            type="number"
            min="1"
            [max]="item.product.stockQuantity"
            [(ngModel)]="item.quantity"
            (change)="updateQty(item, $event)"
          />
          / {{ item.product.stockQuantity }}
        </td>
        <td>\${{ item.product.price * item.quantity | number: '1.2-2' }}</td>
        <td>
          <button (click)="remove(item.product.id)">Remove</button>
        </td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="4" align="right"><strong>Total:</strong></td>
        <td colspan="2"><strong>\${{ total | number: '1.2-2' }}</strong></td>
      </tr>
    </tfoot>
  </table>
  <ng-template #emptyCart>
    <p>Your cart is empty.</p>
  </ng-template>
</div>
